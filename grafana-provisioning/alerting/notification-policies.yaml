apiVersion: 1

policies:
  - orgId: 1
    receiver: MQTT - Temperature High
    routes:
      - receiver: MQTT - Temperature High
        matchers:
          - alertname = "Temperature Too High"
        group_by: ['alertname']
        group_wait: 10s
        group_interval: 10s
        repeat_interval: 5m

      - receiver: MQTT - Temperature Low
        matchers:
          - alertname = "Temperature Too Low"
        group_by: ['alertname']
        group_wait: 10s
        group_interval: 10s
        repeat_interval: 5m

      - receiver: MQTT - Humidity High
        matchers:
          - alertname = "Humidity Too High"
        group_by: ['alertname']
        group_wait: 10s
        group_interval: 10s
        repeat_interval: 5m

      - receiver: MQTT - Humidity Low
        matchers:
          - alertname = "Humidity Too Low"
        group_by: ['alertname']
        group_wait: 10s
        group_interval: 10s
        repeat_interval: 5m

      - receiver: MQTT - Lights On
        matchers:
          - alertname = "Lights Should Be On"
        group_by: ['alertname']
        group_wait: 10s
        group_interval: 10s
        repeat_interval: 1h

      - receiver: MQTT - Lights Off
        matchers:
          - alertname = "Lights Should Be Off"
        group_by: ['alertname']
        group_wait: 10s
        group_interval: 10s
        repeat_interval: 1h

